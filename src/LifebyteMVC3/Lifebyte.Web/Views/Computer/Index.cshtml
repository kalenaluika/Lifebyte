@model List<Lifebyte.Web.Models.Core.Entities.Computer>
@{
    ViewBag.Title = "Lifebyte - Computer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>
    Computer</h2>
<p>
Search by status: 
@Html.EditorFor(c => c.FirstOrDefault().ComputerStatus)
</p>
<p>Search by LB Number:
@Html.EditorFor(c => c.FirstOrDefault().LifebyteNumber)</p>
<p>
<input type="button" id="searchButton" value="Search" />
</p>

<p>@Html.ActionLink("Add", "Add")</p>
@{ 
    var grid = new WebGrid(Model);
}
@grid.GetHtml(columns: grid.Columns(
                        grid.Column("Id", "", c => Html.ActionLink("Edit", "Edit", new { id = c.Id })),
                        grid.Column("ComputerStatus", "Status"),
                        grid.Column("LifebyteNumber", "Lifebyte #"),
                        grid.Column("LicenseType", "License Type")))
<script type="text/javascript">
    choose("ComputerStatus_ComputerStatusDropdownList", "ComputerStatus", "");
    $("#searchButton").click(function (i) {

        var searchCriteria = $("#ComputerStatus").val();
        
        if (!searchCriteria) {
            searchCriteria = $("#LifebyteNumber").val()
        }

        document.location = "/computer/index/" + escape(searchCriteria);
    });
</script>